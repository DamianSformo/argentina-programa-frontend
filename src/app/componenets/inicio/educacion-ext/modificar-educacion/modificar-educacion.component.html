<div class="nav">
    <h2>Modificar educación</h2>
    <button mat-icon-button (click)="onNoClick()">
      <mat-icon>close</mat-icon>
    </button>      
</div>
  
<form [formGroup]="form" (ngSubmit)="guardarEducacion()" class="form">
  <div mat-dialog-content>
    <mat-form-field appearance="fill" class="item">
        <mat-label>Titulo</mat-label>
        <input matInput formControlName="titulo" placeholder="Ex. Licenciado en Administración de Empresa" >
        <mat-error *ngIf="Titulo?.hasError('required')">El título es obligatorio</mat-error>
        <mat-error *ngIf="Titulo?.hasError('minlength')">El título es demasiado corto</mat-error>
        <mat-error *ngIf="Titulo?.hasError('maxlength')">El título es demasiado largo</mat-error>
    </mat-form-field>
  
    <mat-form-field appearance="fill" class="item">
      <mat-label>Disciplina</mat-label>
      <input matInput  formControlName="disciplina" placeholder="Ex. Economía">
      <mat-error *ngIf="Disciplina?.hasError('required')">La disciplina es obligatoria</mat-error>
      <mat-error *ngIf="Disciplina?.hasError('minlength')">La disciplina es demasiada corta</mat-error>
      <mat-error *ngIf="Disciplina?.hasError('maxlength')">La disciplina es demasiada larga</mat-error>
    </mat-form-field>
  
    <mat-form-field appearance="fill" class="item">
      <mat-label>Nota</mat-label>
      <mat-error *ngIf="Nota?.hasError('min')">La nota debe ser mayor a 0</mat-error>
      <input matInput  formControlName="nota" type="number">
    </mat-form-field>
  
    <mat-form-field appearance="fill" class="item">
      <mat-label>Descripcion</mat-label>
      <textarea matInput  formControlName="descripcion"></textarea>
    </mat-form-field>
  
      <div class="item">
        <div class="anios">
          <mat-form-field appearance="fill" class="anio">
            <mat-label>Año de inicio</mat-label>
            <mat-select formControlName="inicio">
              <mat-option value="2022">2022</mat-option>
              <mat-option value="2021">2021</mat-option>
              <mat-option value="2020">2020</mat-option>
              <mat-option value="2019">2019</mat-option>
              <mat-option value="2018">2018</mat-option>
              <mat-option value="2017">2017</mat-option>
              <mat-option value="2016">2016</mat-option>  
              <mat-option value="2015">2015</mat-option>
              <mat-option value="2014">2014</mat-option>
              <mat-option value="2013">2013</mat-option>
              <mat-option value="2012">2012</mat-option>
              <mat-option value="2011">2011</mat-option>
              <mat-option value="2010">2010</mat-option>
              <mat-option value="2009">2009</mat-option>
              <mat-option value="2008">2008</mat-option>
              <mat-option value="2007">2007</mat-option>
              <mat-option value="2006">2006</mat-option>
              <mat-option value="2005">2005</mat-option>
              <mat-option value="2004">2004</mat-option>
              <mat-option value="2003">2003</mat-option>
              <mat-option value="2002">2002</mat-option>
              <mat-option value="2001">2001</mat-option>
              <mat-option value="2000">2000</mat-option>
              <mat-option value="1999">1999</mat-option>
              <mat-option value="1998">1998</mat-option>
              <mat-option value="1997">1997</mat-option>
              <mat-option value="1996">1996</mat-option>
              <mat-option value="1995">1995</mat-option>
              <mat-option value="1994">1994</mat-option>
              <mat-option value="1993">1993</mat-option>
              <mat-option value="1992">1992</mat-option>  
              <mat-option value="1991">1991</mat-option>   
              <mat-option value="1990">1990</mat-option>
              <mat-option value="1989">1989</mat-option>
              <mat-option value="1988">1988</mat-option>
              <mat-option value="1987">1987</mat-option>
              <mat-option value="1986">1986</mat-option>
              <mat-option value="1985">1985</mat-option>
              <mat-option value="1984">1984</mat-option>
              <mat-option value="1983">1983</mat-option>
              <mat-option value="1982">1982</mat-option>  
              <mat-option value="1981">1981</mat-option>   
              <mat-option value="1980">1980</mat-option>
              <mat-option value="1979">1979</mat-option>
              <mat-option value="1978">1978</mat-option>
              <mat-option value="1977">1977</mat-option>
              <mat-option value="1976">1976</mat-option>
              <mat-option value="1975">1975</mat-option>
              <mat-option value="1974">1974</mat-option>
              <mat-option value="1973">1973</mat-option>
              <mat-option value="1972">1972</mat-option>  
              <mat-option value="1971">1971</mat-option>   
              <mat-option value="1970">1970</mat-option>
              <mat-option value="1969">1969</mat-option>
              <mat-option value="1968">1968</mat-option>
              <mat-option value="1967">1967</mat-option>
              <mat-option value="1966">1966</mat-option>
              <mat-option value="1965">1965</mat-option>
              <mat-option value="1964">1964</mat-option>
              <mat-option value="1963">1963</mat-option>
              <mat-option value="1962">1962</mat-option>  
              <mat-option value="1961">1961</mat-option>   
              <mat-option value="1960">1960</mat-option>
              <mat-option value="1959">1959</mat-option>
              <mat-option value="1958">1958</mat-option>
              <mat-option value="1957">1957</mat-option>
              <mat-option value="1956">1956</mat-option>
              <mat-option value="1955">1955</mat-option>
              <mat-option value="1954">1954</mat-option>
              <mat-option value="1953">1953</mat-option>
              <mat-option value="1952">1952</mat-option>  
              <mat-option value="1951">1951</mat-option>   
              <mat-option value="1950">1950</mat-option>
              <mat-option value="1949">1949</mat-option>
              <mat-option value="1948">1948</mat-option>
              <mat-option value="1947">1947</mat-option>
              <mat-option value="1946">1946</mat-option>
              <mat-option value="1945">1945</mat-option>
              <mat-option value="1944">1944</mat-option>
              <mat-option value="1943">1943</mat-option>
              <mat-option value="1942">1942</mat-option>  
              <mat-option value="1941">1941</mat-option>   
              <mat-option value="1940">1940</mat-option>
              <mat-option value="1939">1939</mat-option>
              <mat-option value="1938">1938</mat-option>
              <mat-option value="1937">1937</mat-option>
              <mat-option value="1936">1936</mat-option>
              <mat-option value="1935">1935</mat-option>
              <mat-option value="1934">1934</mat-option>
              <mat-option value="1933">1933</mat-option>
              <mat-option value="1932">1932</mat-option>  
              <mat-option value="1931">1931</mat-option>
              <mat-option value="1930">1930</mat-option>
              <mat-option value="1929">1929</mat-option>
              <mat-option value="1928">1928</mat-option>
              <mat-option value="1927">1927</mat-option>
              <mat-option value="1926">1926</mat-option>
              <mat-option value="1925">1925</mat-option>
              <mat-option value="1924">1924</mat-option>
              <mat-option value="1923">1923</mat-option>
              <mat-option value="1922">1922</mat-option>
              <mat-option value="1923">1921</mat-option>
              <mat-option value="1922">1920</mat-option>
              </mat-select>
          </mat-form-field>
  
          <mat-form-field appearance="fill" class="anio">
            <mat-label>Año de finalización</mat-label>
            <mat-error *ngIf="!form.controls['finalizacion'].hasError('anioMayor')">El año de finalización no puede ser menor al de inicio</mat-error>
            <mat-error *ngIf="Finalizacion?.hasError('required')">La disciplina es obligatoria</mat-error>
            <mat-select [disabled]="disableSelect.value" formControlName="finalizacion">
            <mat-option value="2022">2022</mat-option>
            <mat-option value="2021">2021</mat-option>
            <mat-option value="2020">2020</mat-option>
            <mat-option value="2019">2019</mat-option>
            <mat-option value="2018">2018</mat-option>
            <mat-option value="2017">2017</mat-option>
            <mat-option value="2016">2016</mat-option>  
            <mat-option value="2015">2015</mat-option>
            <mat-option value="2014">2014</mat-option>
            <mat-option value="2013">2013</mat-option>
            <mat-option value="2012">2012</mat-option>
            <mat-option value="2011">2011</mat-option>
            <mat-option value="2010">2010</mat-option>
            <mat-option value="2009">2009</mat-option>
            <mat-option value="2008">2008</mat-option>
            <mat-option value="2007">2007</mat-option>
            <mat-option value="2006">2006</mat-option>
            <mat-option value="2005">2005</mat-option>
            <mat-option value="2004">2004</mat-option>
            <mat-option value="2003">2003</mat-option>
            <mat-option value="2002">2002</mat-option>
            <mat-option value="2001">2001</mat-option>
            <mat-option value="2000">2000</mat-option>
            <mat-option value="1999">1999</mat-option>
            <mat-option value="1998">1998</mat-option>
            <mat-option value="1997">1997</mat-option>
            <mat-option value="1996">1996</mat-option>
            <mat-option value="1995">1995</mat-option>
            <mat-option value="1994">1994</mat-option>
            <mat-option value="1993">1993</mat-option>
            <mat-option value="1992">1992</mat-option>  
            <mat-option value="1991">1991</mat-option>   
            <mat-option value="1990">1990</mat-option>
            <mat-option value="1989">1989</mat-option>
            <mat-option value="1988">1988</mat-option>
            <mat-option value="1987">1987</mat-option>
            <mat-option value="1986">1986</mat-option>
            <mat-option value="1985">1985</mat-option>
            <mat-option value="1984">1984</mat-option>
            <mat-option value="1983">1983</mat-option>
            <mat-option value="1982">1982</mat-option>  
            <mat-option value="1981">1981</mat-option>   
            <mat-option value="1980">1980</mat-option>
            <mat-option value="1979">1979</mat-option>
            <mat-option value="1978">1978</mat-option>
            <mat-option value="1977">1977</mat-option>
            <mat-option value="1976">1976</mat-option>
            <mat-option value="1975">1975</mat-option>
            <mat-option value="1974">1974</mat-option>
            <mat-option value="1973">1973</mat-option>
            <mat-option value="1972">1972</mat-option>  
            <mat-option value="1971">1971</mat-option>   
            <mat-option value="1970">1970</mat-option>
            <mat-option value="1969">1969</mat-option>
            <mat-option value="1968">1968</mat-option>
            <mat-option value="1967">1967</mat-option>
            <mat-option value="1966">1966</mat-option>
            <mat-option value="1965">1965</mat-option>
            <mat-option value="1964">1964</mat-option>
            <mat-option value="1963">1963</mat-option>
            <mat-option value="1962">1962</mat-option>  
            <mat-option value="1961">1961</mat-option>   
            <mat-option value="1960">1960</mat-option>
            <mat-option value="1959">1959</mat-option>
            <mat-option value="1958">1958</mat-option>
            <mat-option value="1957">1957</mat-option>
            <mat-option value="1956">1956</mat-option>
            <mat-option value="1955">1955</mat-option>
            <mat-option value="1954">1954</mat-option>
            <mat-option value="1953">1953</mat-option>
            <mat-option value="1952">1952</mat-option>  
            <mat-option value="1951">1951</mat-option>   
            <mat-option value="1950">1950</mat-option>
            <mat-option value="1949">1949</mat-option>
            <mat-option value="1948">1948</mat-option>
            <mat-option value="1947">1947</mat-option>
            <mat-option value="1946">1946</mat-option>
            <mat-option value="1945">1945</mat-option>
            <mat-option value="1944">1944</mat-option>
            <mat-option value="1943">1943</mat-option>
            <mat-option value="1942">1942</mat-option>  
            <mat-option value="1941">1941</mat-option>   
            <mat-option value="1940">1940</mat-option>
            <mat-option value="1939">1939</mat-option>
            <mat-option value="1938">1938</mat-option>
            <mat-option value="1937">1937</mat-option>
            <mat-option value="1936">1936</mat-option>
            <mat-option value="1935">1935</mat-option>
            <mat-option value="1934">1934</mat-option>
            <mat-option value="1933">1933</mat-option>
            <mat-option value="1932">1932</mat-option>  
            <mat-option value="1931">1931</mat-option>
            <mat-option value="1930">1930</mat-option>
            <mat-option value="1929">1929</mat-option>
            <mat-option value="1928">1928</mat-option>
            <mat-option value="1927">1927</mat-option>
            <mat-option value="1926">1926</mat-option>
            <mat-option value="1925">1925</mat-option>
            <mat-option value="1924">1924</mat-option>
            <mat-option value="1923">1923</mat-option>
            <mat-option value="1922">1922</mat-option>
            <mat-option value="1923">1921</mat-option>
            <mat-option value="1922">1920</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        
        <p class="check">
          <mat-checkbox [formControl]="disableSelect" >Cursando actualmente</mat-checkbox>
        </p>
      </div>
  
      <mat-form-field class="example-full-width"  class="item" appearance="fill">
        <mat-label>Institución</mat-label>
        <input matInput
        required
        formControlName="institucion"
               aria-label="State"
               [matAutocomplete]="auto"
               [formControl]="institucionCtrl">
               
        <mat-autocomplete #auto="matAutocomplete">
          <mat-option *ngFor="let institucion of filteredInstituciones | async" [value]="institucion.nombre">
            <img class="example-option-img" aria-hidden [src]="institucion.img" height="25">
            <span>{{institucion.nombre}}</span> |
            <small>{{institucion.pais}}</small>
          </mat-option>
        </mat-autocomplete>
        
      </mat-form-field>
  
      <mat-form-field *ngIf="!nombreInstituciones.includes(form.value.institucion)" appearance="fill" class="item">
        <mat-label>País</mat-label>
        <mat-select formControlName="pais">
          <mat-option *ngFor="let pais of paises" [value]="pais" >
            {{pais}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="Pais?.hasError('required')">El país es obligatorio</mat-error>
      </mat-form-field>
  
      <mat-form-field *ngIf="!nombreInstituciones.includes(form.value.institucion)" appearance="fill" class="item">
        <mat-label>Ciudad</mat-label>
        <input matInput  formControlName="ciudad">
      </mat-form-field>
  
    </div>
  
    <button type="submit" [disabled]="form.invalid" mat-raised-button color="primary" class="sub">Guardar</button>
  
  </form>
  
  
  